<p-dialog 
  [(visible)]="visible" 
  [modal]="true" 
  [draggable]="false" 
  [resizable]="false"
  [closable]="true"
  appendTo="body"
  [style]="{width: '500px'}"
  header="Filtrar por">
  
  <!-- Contenido -->
  <div class="space-y-4 py-2">
    <!-- Filtros para actividades admin -->
    <div *ngIf="!esTareaInfo" class="space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Sucursal</label>
        <p-select 
          [(ngModel)]="filtroDepartamento" 
          [options]="departamentos" 
          placeholder="Seleccionar sucursal"
          [showClear]="true"
          class="w-full">
        </p-select>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Categoría</label>
        <p-select 
          [(ngModel)]="filtroCategoria" 
          [options]="categorias" 
          placeholder="Seleccionar categoría"
          [showClear]="true"
          class="w-full">
        </p-select>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Cargo</label>
        <p-select 
          [(ngModel)]="filtroCargo" 
          [options]="cargos" 
          placeholder="Seleccionar cargo"
          [showClear]="true"
          class="w-full">
        </p-select>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Progreso</label>
        <p-select 
          [(ngModel)]="filtroProgreso" 
          [options]="progresos" 
          placeholder="Seleccionar progreso"
          [showClear]="true"
          class="w-full">
        </p-select>
      </div>
    </div>

    <!-- Filtros para tarea-info (solo prioridad y progreso) -->
    <div *ngIf="esTareaInfo" class="space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Prioridad</label>
        <button type="button" class="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"
          (click)="limpiarFiltros()">
          Limpiar
        </button>
        <button type="button" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
          (click)="aplicarFiltros()">
          Aplicar Filtros
        </button>
        <p-select 
          [(ngModel)]="filtroPrioridad" 
          [options]="prioridades" 
          placeholder="Seleccionar prioridad"
          [showClear]="true"
          class="w-full">
        </p-select>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Progreso</label>
        <p-select 
          [(ngModel)]="filtroProgreso" 
          [options]="progresos" 
          placeholder="Seleccionar progreso"
          [showClear]="true"
          class="w-full">
        </p-select>
      </div>
    </div>
  </div>

  <!-- Footer con botones -->

    <div class="flex gap-3 justify-end">
      <button 
        type="button"
        class="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"
        (click)="limpiarFiltros()">
        Limpiar
      </button>
      <button 
        type="button"
        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
        (click)="aplicarFiltros()">
        Aplicar Filtros
      </button>
    </div>
</p-dialog>
